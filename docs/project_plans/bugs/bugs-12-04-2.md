# Identified Bugs

**Date:** 2025-12-04

## Listed Items

1. When viewing a /lists modal, on the Linked Entities tab, no entities are shown, despite being linked.
2. When viewing any entity modal, on the Linked Entities tab, the button "Add {Entity}" should allow adding existing or adding New. This structure should be consistent with the /lists modal for adding a Gift, expanded to all entities and all modals.
    - There seems to be a secondary modal type of that tab, specific to Lists it seems, that shows a "Add New List" button instead of "Add Gift" and doesn't support adding existing Lists. This should be generalized to a single standardized structure.
3. Currently, Gifts can only be linked to a single List, with attempts failing with a 400: ERROR:  duplicate key value violates unique constraint "uq_list_items_gift_list".
    - This should be updated to allow linking a Gift to multiple Lists, with the UI updated accordingly to support selecting multiple Lists when linking from the Gift modal, and allowing multiple List links when adding a Gift from within a List.
4. When open certain List modals, the following error is noted in the backend:

    ```log
    File "/app/app/api/lists.py", line 239, in get_list

        list_obj = await service.get_with_items(list_id)

                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

    File "/app/app/services/list.py", line 388, in get_with_items

        ListItemWithGift(

    File "/app/.venv/lib/python3.11/site-packages/pydantic/main.py", line 250, in __init__

        validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)

                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

    pydantic_core._pydantic_core.ValidationError: 3 validation errors for ListItemWithGift

    price

    Field required [type=missing, input_value={'id': 1, 'gift_id': 1, '...e=None, image_url=None)}, input_type=dict]

        For further information visit https://errors.pydantic.dev/2.12/v/missing⁠

    discount_price

    Field required [type=missing, input_value={'id': 1, 'gift_id': 1, '...e=None, image_url=None)}, input_type=dict]

        For further information visit https://errors.pydantic.dev/2.12/v/missing⁠

    quantity

    Field required [type=missing, input_value={'id': 1, 'gift_id': 1, '...e=None, image_url=None)}, input_type=dict]

        For further information visit https://errors.pydantic.dev/2.12/v/missing⁠
    ```
5. On the /lists page, in the Recent List Activity sidebar, the Cards have no bottom/top padding between each Card, causing them to visually run together.
    - There should be some spacing between each Card to visually separate them.